<template>
    <div class="page">
        <!-- 页面公用头 请勿删除-->
        <DemoHead name="progress"></DemoHead>
        <!-- 此间为自己组件的演示-->
        <div class="default">
            <div class="row-name">默认</div>
            <fui-progress :value="0"></fui-progress>
        </div>
        <div class="has-value">
            <div class="row-name">设置value</div>
            <fui-progress :value="20">
            </fui-progress>
        </div>
        <div class="has-number">
            <div class="row-name">左右数字</div>
            <fui-progress :value="70">
                <div slot="start" :style="{color:'#8a8a8a'}">0%</div>
                <div slot="end" :style="{color:'#8a8a8a'}">100%</div>
            </fui-progress>
        </div>
        <div class="has-line-height">
            <div class="row-name">定义线宽</div>
            <fui-progress :value="50" :bar-height="0.2"></fui-progress>
        </div>

        <div class="has-line-color">
            <div class="row-name">定义进度颜色</div>
            <fui-progress :value="30" :line-color="'#FF574B'"></fui-progress>
        </div>

        <div class="has-bg-color">
            <div class="row-name">定义背景颜色</div>
            <fui-progress :value="15" :line-color="'#FF574B'" :bg-color="'#EEAFA5'"></fui-progress>
        </div>

        <div class="btn-container">
            <button class="upload-btn" @click="progressRun">上传文件</button>
        </div>
        <div v-if="show" class="upload">
            <fui-progress :value="percent" >
                <div slot="end">{{percent}}%</div>
            </fui-progress>
        </div>
        <!-- 此间为自己组件的演示 -->
    </div>
</template>

<script>
    // 页面公用头 请勿删除
    import DemoHead from "@/common/components/demo-head.vue";
    export default {
        name: "fui-progress-demo",
        data() {
            return {
                show: false,
                percent: 0
            };
        },
        computed: {},
        methods: {
            progressRun() {
                this.show = true
                let timer = setInterval(() => {
                    if (this.percent < 100) {
                        let temp = this.percent + 1
                        this.percent = temp > 100 ? 100 : temp;
                    } else {
                        clearInterval(timer)
                        this.show = false;
                        this.percent = 0;
                    }
                }, 20);
            }
        },
        components: {
            DemoHead
        },
        mounted() {},
        created() {}
    };
</script>

<style lang="scss" type="text/scss" >

    .btn-container{
        margin: 0.3rem auto;
        text-align: center;
    }
    .upload-btn{
        width: 2.5rem;
        height:0.9rem;
        background-color: #26a2ff;
        color: #FFF;
        border: none;
        border-radius: 0.1rem;
        font-size: 0.5rem
    }

    .default,.has-value,.has-number,.has-line-color,.has-bg-color,.has-line-height{
        display: flex;
        align-items: center;
        height: 1.2rem;
        margin: 0 0.5rem;
        font-size: 0.4rem;
        .row-name{
            width: 2.6rem;
            text-align: left;
        }
        div:nth-child(2){
            flex: 1;
        }
    }

    .default{
        margin-top: 0.5rem;
    }

    .upload{
        margin: 0 0.5rem;
        font-size: 0.4rem;
    }
</style>
